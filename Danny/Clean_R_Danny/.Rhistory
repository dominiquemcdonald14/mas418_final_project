"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
i
table(salary_data$role)
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_roleLocation[i]
num <- nchar(temp)
if (temp == "Remote") {
salary_data$location[i] <- "Remote"
} else {
salary_data$location[i] <- substr(temp, num-1, num)
}
}
table(salary_data$location)
salary_data <- salary_data %>%
mutate(R = ifelse(str_detect(listing_jobDesc, "R"), 1, 0),
Python = ifelse(str_detect(listing_jobDesc, "Python"), 1, 0),
SQL = ifelse(str_detect(listing_jobDesc, "SQL"), 1, 0))
sum(salary_data$R)/nrow(check)
sum(salary_data$Python)/nrow(check)
sum(salary_data$SQL)/nrow(check)
salary_data
sum(salary_data$R)/nrow(salary_data)
sum(salary_data$Python)/nrow(salary_data)
sum(salary_data$SQL)/nrow(salary_data)
write.csv(salary_data, "salary.csv")
library(tidyverse)
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/output")
job_data <- read.csv("output_.csv")
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/Clean_R_Danny")
View(job_data)
### Get rid of duplicates
job_data
### Get rid of duplicates
job_data %>%
select(-requested_url) %>%
distinct()
library(tidyverse)
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/output")
job_data <- read.csv("output_.csv")
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/Clean_R_Danny")
### Get rid of duplicates
check <- job_data %>%
select(-requested_url) %>%
distinct()
View(check)
View(job_data)
check2 <- job_data %>%
arrange(company)
check2 <- job_data %>%
arrange(companyName)
View(check2)
i = 1
job_data[i,]
rbind(job_no_dup, job_data[1,])
job_no_dup <- data.frame()
rbind(job_no_dup, job_data[1,])
job_no_dup <- rbind(job_no_dup, job_data[1,])
View(job_no_dup)
rbind(job_no_dup, temp) %>%
select(-requested_url)
temp <- job_data[i,]
rbind(job_no_dup, temp) %>%
select(-requested_url)
check <- rbind(job_no_dup, temp) %>%
select(-requested_url)
View(check)
check <- rbind(job_no_dup, temp) %>%
select(-requested_url) %>%
group_by(companyName, company_offeredRole, company_roleLocation, company_salary) %>%
summarise(count = n())
View(check)
job_no_dup <- data.frame()
job_no_dup <- rbind(job_no_dup, job_data[1,])
for (i in 1:nrow(job_data)) {
temp <- job_data[i,]
check <- rbind(job_no_dup, temp) %>%
select(-requested_url) %>%
group_by(companyName, company_offeredRole, company_roleLocation, company_salary) %>%
summarise(count = n())
if (mean(check) == 1) {
job_no_dup <- rbind(job_no_dup, job_data[i,])
}
}
for (i in 1:nrow(job_data)) {
temp <- job_data[i,]
check <- rbind(job_no_dup, temp) %>%
select(-requested_url) %>%
group_by(companyName, company_offeredRole, company_roleLocation, company_salary) %>%
summarise(count = n())
if (mean(check$count) == 1) {
job_no_dup <- rbind(job_no_dup, job_data[i,])
}
}
View(job_no_dup)
library(tidyverse)
### Input file
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/output")
job_data <- read.csv("output_.csv")
### Cleaning
job_no_dup <- data.frame()
job_no_dup <- rbind(job_no_dup, job_data[1,])
for (i in 1:nrow(job_data)) {
temp <- job_data[i,]
check <- rbind(job_no_dup, temp) %>%
select(-requested_url) %>%
group_by(companyName, company_offeredRole, company_roleLocation, company_salary) %>%
summarise(count = n())
if (mean(check$count) == 1) {
job_no_dup <- rbind(job_no_dup, job_data[i,])
}
}
### Output file
write.csv(job_no_dup, "salary_no_dup.csv")
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/Clean_R_Danny")
write.csv(job_no_dup, "salary_no_dup.csv")
library(tidyverse)
### Input file
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/output")
job_data <- read.csv("output_.csv")
View(job_data)
job_no_dup <- data.frame()
job_no_dup <- rbind(job_no_dup, job_data[1,])
for (i in 1:nrow(job_data)) {
temp <- job_data[i,]
check <- rbind(job_no_dup, temp) %>%
select(-requested_url) %>%
group_by(companyName, company_offeredRole, company_roleLocation, company_salary) %>%
summarise(count = n())
if (mean(check$count) == 1) {
job_no_dup <- rbind(job_no_dup, job_data[i,])
}
}
View(job_no_dup)
View(job_data)
i
i = 1
temp <- job_data[i,]
temp
View(temp)
unique(job_data$companyName)
job_data
check <- job_data %>%
select(companyName, company_offeredRole, company_salary) %>%
distinct()
View(check)
View(job_no_dup)
View(job_data)
View(job_no_dup)
job_data <- read.csv("output_.csv")
job_data2 <- read.csv("output_03-03-2023.csv")
job_data3 <- read.csv("output_17-02-2023.csv")
job_data <- rbind(job_data2, job_data3)
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/output")
job_data <- read.csv("output_.csv")
job_data2 <- read.csv("output_03-03-2023.csv")
job_data3 <- read.csv("output_17-02-2023.csv")
job_data <- rbind(job_data, job_data2)
job_no_dup <- data.frame()
job_no_dup <- rbind(job_no_dup, job_data[1,])
for (i in 1:nrow(job_data)) {
temp <- job_data[i,]
check <- rbind(job_no_dup, temp) %>%
select(-requested_url) %>%
group_by(companyName, company_offeredRole, company_roleLocation, company_salary) %>%
summarise(count = n())
if (mean(check$count) == 1) {
job_no_dup <- rbind(job_no_dup, job_data[i,])
}
}
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/output")
write.csv(job_no_dup, "output_no_dup.csv")
library(tidyverse)
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Glassdoor/output")
job_data <- read.csv("output_no_dup.csv")
View(job_data)
salary_data <- job_data %>%
filter(!is.na(company_salary))
View(salary_data)
for (i in 1:nrow(salary_data)) {
temp <- str_extract_all(salary_data$company_salary[i], "[0-9]+")[[1]]
if (length(temp) == 2) {
salary_temp <- mean(as.numeric(temp))
} else {
salary_temp <- as.numeric(temp)
}
salary_data$salary[i] <- salary_temp
}
for (i in 1:nrow(salary_data)) {
temp <- str_extract_all(salary_data$company_salary[i], "[0-9]+")[[1]]
if (length(temp) == 2) {
salary_temp <- mean(as.numeric(temp))
} else {
salary_temp <- as.numeric(temp)
}
salary_data$salary[i] <- salary_temp
}
i
salary_data$company_salary[i]
str_extract_all(salary_data$company_salary[i], "[0-9]+")[[1]]
salary_data$company_salary[i]
salary_data[52,]
salary_data[52,]
salary_data[-52,]
View(salary_data)
salary_data <- salary_data[-52,]
View(salary_data)
for (i in 1:nrow(salary_data)) {
temp <- str_extract_all(salary_data$company_salary[i], "[0-9]+")[[1]]
if (length(temp) == 2) {
salary_temp <- mean(as.numeric(temp))
} else {
salary_temp <- as.numeric(temp)
}
salary_data$salary[i] <- salary_temp
}
View(salary_data)
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst", "AI Architect")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst", "Machine Learning")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst", "AI Architect",
"Statistical Programming")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst", "Machine Learning",
"Data Scientist")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
i
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst", "AI Architect",
"Statistical Programming", "AI")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst", "Machine Learning",
"Data Scientist", "Machine Learning")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst", "AI Architect",
"Statistical Programming", "AI", "Mathematician")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst", "Machine Learning",
"Data Scientist", "Machine Learning", "Others")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst", "AI Architect",
"Statistical Program", "AI", "Mathematician")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst", "Machine Learning",
"Data Scientist", "Machine Learning", "Others")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst", "AI Architect",
"Statistical Program", "AI", "Mathematician",
"Data Quality Engineer")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst", "Machine Learning",
"Data Scientist", "Machine Learning", "Others",
"Data Engineer")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
salary_data$company_offeredRole[i]
role <- c("Data Scientist", "Data Analytics", "Applied Scientist",
"Data Engineer", "Software Engineer", "Data Integration",
"Machine Learning", "Systems Engineer", "Business Analytics",
"Statistician", "Data Science", "Data Analyst",
"System Technician", "Artificial Intelligence", "Decision Scientist",
"Natural Language Processing", "Data Architect", "Modeling",
"Data Review", "Reporting Analyst", "AI Architect",
"Statistical Program", "AI", "Mathematician",
"Data Quality Engineer", "Predictive Analytics Modeler")
role_change <- c("Data Scientist", "Data Analyst", "Machine Learning",
"Data Engineer", "Others", "Others",
"Machine Learning", "Others", "Data Analyst",
"Data Scientist", "Data Scientist", "Data Analyst",
"Others", "Machine Learning", "Data Scientist",
"Machine Learning", "Data Engineer", "Data Scientist",
"Data Analyst", "Data Analyst", "Machine Learning",
"Data Scientist", "Machine Learning", "Others",
"Data Engineer", "Data Scientist")
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_offeredRole[i]
role_temp <- role_change[str_detect(temp, role)]
salary_data$role[i] <- role_temp
}
table(salary_data$role)
for (i in 1:nrow(salary_data)) {
temp <- salary_data$company_roleLocation[i]
num <- nchar(temp)
if (temp == "Remote") {
salary_data$location[i] <- "Remote"
} else {
salary_data$location[i] <- substr(temp, num-1, num)
}
}
table(salary_data$location)
salary_data <- salary_data %>%
mutate(#R = ifelse(str_detect(listing_jobDesc, "R"), 1, 0),
Python = ifelse(str_detect(listing_jobDesc, "Python"), 1, 0),
SQL = ifelse(str_detect(listing_jobDesc, "SQL"), 1, 0))
#sum(salary_data$R)/nrow(salary_data)
sum(salary_data$Python)/nrow(salary_data)
sum(salary_data$SQL)/nrow(salary_data)
write.csv(salary_data, "salary.csv")
setwd("/Users/tixradmin/Documents/GitHub/mas418_final_project/Danny/Clean_R_Danny")
write.csv(salary_data, "salary.csv")
### Let's add education
salary_data %>%
mutate(Education = ifelse(str_detect(listing_jobDesc, "Ph.D"), "Ph.D",
ifelse(str_detect(listing_jobDesc, "Master's") "Master's",
str_detect("Ph.D", "//.")
str_detect("Ph.D", "/.")
str_detect("Ph.D", ".")
str_detect("Ph.D", "/.D")
str_detect("Ph.D", "//.D")
str_detect("Ph.D", "///.D")
str_detect("Ph.D", "\.D")
str_detect("Ph.D", "\\.D")
### Let's add education
salary_data %>%
mutate(Education = ifelse(str_detect(listing_jobDesc, "Ph\\.D"), "Ph.D",
ifelse(str_detect(listing_jobDesc, "Master's"), "Master's",
ifelse(str_detect(listing_jobDesc, "Bachelor's"),"Bachelor's","None"))))
### Let's add education
check <- salary_data %>%
mutate(Education = ifelse(str_detect(listing_jobDesc, "Ph\\.D"), "Ph.D",
ifelse(str_detect(listing_jobDesc, "Master's"), "Master's",
ifelse(str_detect(listing_jobDesc, "Bachelor's"),"Bachelor's","None"))))
View(check)
i = 11
temp <- str_extract_all(salary_data$company_salary[i], "[0-9]+")[[1]]
temp
i = 1
str_detect(salary_data$company_salary[i],"Hour")
salary_data$company_salary[i]
i = 11
salary_data$company_salary[i]
(str_detect(salary_data$company_salary[i],"Hour"))
str_extract_all(salary_data$company_salary[i], "[0-9]+")[[1]]
for (i in 1:nrow(salary_data)) {
if (str_detect(salary_data$company_salary[i],"Hour")) {
salary_temp <- 0
} else {
temp <- str_extract_all(salary_data$company_salary[i], "[0-9]+")[[1]]
if (length(temp) == 2) {
salary_temp <- mean(as.numeric(temp))
} else {
salary_temp <- as.numeric(temp)
}
}
salary_data$salary[i] <- salary_temp
}
### Let's add education
salary_data <- salary_data %>%
mutate(Education = ifelse(str_detect(listing_jobDesc, "Ph\\.D"), "Ph.D",
ifelse(str_detect(listing_jobDesc, "Master's"), "Master's",
ifelse(str_detect(listing_jobDesc, "Bachelor's"),"Bachelor's","None"))))
write.csv(salary_data, "salary.csv")
(33+41)/2
37*2000
78.75*2000
23.78*2000
salary_data$Education == "Master's"
sum(salary_data$Education == "Master's")
sum(salary_data$Education == "Bachelor's")
salary_data <- salary_data %>%
mutate(Education = ifelse(str_detect(listing_jobDesc, "Ph\\.D"), "Ph.D",
ifelse(str_detect(listing_jobDesc, "Master"), "Master",
ifelse(str_detect(listing_jobDesc, "Bachelor"),"Bachelor","None"))))
sum(salary_data$Education == "Master")
sum(salary_data$Education == "Bachelor")
write.csv(salary_data, "salary.csv")
33+41
/2
(33+41)/2
(33+41)/2*2000
78.75*2000
23.78*2000
